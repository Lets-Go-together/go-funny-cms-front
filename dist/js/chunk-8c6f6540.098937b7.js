(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c6f6540","chunk-07785130","chunk-46d9ac24","chunk-2d23799e","chunk-2d2102b9","chunk-2d0bdf79"],{"2df7":function(t,e,a){"use strict";a.r(e);var n=a("5530");e["default"]={data:function(){return{pagination:{pageSize:10,page:1,total:0},pageParams:{pageSize:10,page:1}}},methods:{handleTableChange:function(t,e,a){var i=Object(n["a"])({},this.pagination);i.current=t.current,this.pagination=i,this.filters=Object.assign(this.filters,{pageSize:t.pageSize,page:t.current,sortField:a.field,sortOrder:a.order}),this.getList()}}}},"519d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filters"},[a("a-form",{attrs:{form:t.filters,layout:"inline"}},[a("a-form-item",{attrs:{label:""}},[a("a-input",{attrs:{placeholder:"邮件名称"},model:{value:t.filters.keyword,callback:function(e){t.$set(t.filters,"keyword",e)},expression:"filters.keyword"}})],1),a("a-form-item",{attrs:{label:""}},[a("a-button-group",[a("a-button",{attrs:{type:"primary",icon:"search",loading:t.tableLoading},on:{click:function(e){return t.getList()}}},[t._v("查询")]),a("a-button",{attrs:{type:"primary",icon:"add",loading:t.tableLoading},on:{click:function(e){return t.add()}}},[t._v("添加")])],1)],1)],1)],1),a("a-divider",{attrs:{dashed:""}}),a("div",{staticClass:"tableList"},[a("a-table",{attrs:{rowKey:"id",loading:t.tableLoading,columns:t.columns,"data-source":t.data,pagination:t.pagination},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"status",fn:function(e){return a("span",{},[1==e?a("a-tag",{attrs:{color:"#87d068"}},[t._v("正常")]):t._e(),2==e?a("a-tag",{attrs:{color:"#108ee9"}},[t._v("发送中")]):t._e(),3==e?a("a-tag",{attrs:{color:"#87d068"}},[t._v("发送成功")]):t._e(),4==e?a("a-tag",{attrs:{color:"#f50"}},[t._v("发送失败")]):t._e()],1)}},{key:"emails",fn:function(e){return a("span",{},t._l(e,(function(e){return a("a-tag",{key:e},[t._v(t._s(e))])})),1)}},{key:"action",fn:function(e){return a("span",{},[a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link",on:{click:function(t){return t.preventDefault()}}},[t._v("更多"),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",[a("a-popconfirm",{attrs:{title:t.$t("confirm_delete"),"ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return t.del(e.id)}}},[a("a",{attrs:{href:"#"}},[t._v(t._s(t.$t("delete")))])])],1),a("a-menu-item",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.showContent(e)}}},[t._v("查看邮件")])])],1)],1)],1)}}])})],1),a("a-drawer",{attrs:{title:t.formModue.title,width:"80%",visible:t.formModue.visible,"confirm-loading":t.formModue.loadding},on:{close:function(e){t.formModue.visible=!1}}},[t.formModue.visible?a("module-form",{attrs:{formData:t.formModue.formData},on:{"update:formData":function(e){return t.$set(t.formModue,"formData",e)},"update:form-data":function(e){return t.$set(t.formModue,"formData",e)},success:t.success,close:function(e){t.formModue.visible=!1}}}):t._e()],1),a("Content",{attrs:{title:t.title,visible:t.visible,content:t.content},on:{"update:visible":function(e){t.visible=e}}})],1)},i=[],o=a("2f11"),s=a("2df7"),r=a("f1f9"),l=a("fc8c"),d=a("b76d"),c={mixins:[s["default"],d["default"]],components:{ModuleForm:r["default"],Content:l["default"]},data:function(){return{filters:{keyword:""},columns:[{title:"Id",dataIndex:"id",key:"id"},{title:"Email",dataIndex:"email",key:"email"},{title:"主题",dataIndex:"subject",key:"subject"},{title:"发送状态",scopedSlots:{customRender:"status"},dataIndex:"status",key:"status"},{title:"发送时间",dataIndex:"send_at",key:"send_at"},{title:"操作",key:"action",scopedSlots:{customRender:"action"},fixed:"right"}],data:[],tableLoading:!1,formModue:{title:"添加",visible:!1,formData:{},loadding:!1}}},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({status:[1,2,3,4]},e,this.pageParams,this.filters),this.tableLoading=!0,Object(o["getList"])(e).then((function(e){var a=e.data;t.data=a.list,t.tableLoading=!1,t.pagination.total=a.total})).catch((function(){t.tableLoading=!1}))},edit:function(t){t=JSON.parse(JSON.stringify(t)),this.$set(this,"formModue",{title:"编辑",visible:!0,formData:t})},del:function(t){var e=this;Object(o["del"])(t).then((function(t){e.$message.success(t.message),e.getList()}))},success:function(){this.formModue.visible=!1,this.getList()}},mounted:function(){this.getList()}},u=c,f=a("2877"),m=Object(f["a"])(u,n,i,!1,null,null,null);e["default"]=m.exports},"6f18":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",[a("a-card",[a("a-tabs",{attrs:{"default-active-key":"1"}},[a("a-tab-pane",{key:"1",attrs:{tab:"已发送"}},[a("Outbox")],1),a("a-tab-pane",{key:"2",attrs:{tab:"回收站"}},[a("Recovery")],1)],1)],1)],1)},i=[],o=a("cab1"),s=a("519d"),r={components:{Outbox:s["default"],Recovery:o["default"]},mixins:[],data:function(){return{}},mounted:function(){},methods:{},watch:{}},l=r,d=a("2877"),c=Object(d["a"])(l,n,i,!1,null,null,null);e["default"]=c.exports},b76d:function(t,e,a){"use strict";a.r(e),e["default"]={data:function(){return{visible:!1,content:"",title:""}},methods:{showContent:function(t){this.title=t.subject,this.content=t.content,this.visible=!0},add:function(){this.$set(this,"formModue",{title:"添加",visible:!0,formData:{}})}}}},cab1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"filters"},[a("a-form",{attrs:{form:t.filters,layout:"inline"}},[a("a-form-item",{attrs:{label:""}},[a("a-input",{attrs:{placeholder:"邮件名称"},model:{value:t.filters.keyword,callback:function(e){t.$set(t.filters,"keyword",e)},expression:"filters.keyword"}})],1),a("a-form-item",{attrs:{label:""}},[a("a-button-group",[a("a-button",{attrs:{type:"primary",icon:"search",loading:t.tableLoading},on:{click:function(e){return t.getList()}}},[t._v("查询")])],1)],1)],1)],1),a("a-divider",{attrs:{dashed:""}}),a("div",{staticClass:"tableList"},[a("a-table",{attrs:{rowKey:"id",loading:t.tableLoading,columns:t.columns,"data-source":t.data,pagination:t.pagination},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e){return a("span",{},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.showContent(e)}}},[t._v("查看邮件")])])}}])})],1),a("Content",{attrs:{title:t.title,visible:t.visible,content:t.content},on:{"update:visible":function(e){t.visible=e}}})],1)},i=[],o=a("2f11"),s=a("2df7"),r=a("f1f9"),l=a("b76d"),d=a("fc8c"),c={mixins:[s["default"],l["default"]],components:{ModuleForm:r["default"],Content:d["default"]},data:function(){return{filters:{keyword:""},columns:[{title:"Id",dataIndex:"id",key:"id"},{title:"Email",dataIndex:"email",key:"email"},{title:"主题",dataIndex:"subject",key:"subject"},{title:"发送时间",dataIndex:"send_at",key:"send_at"},{title:"操作",key:"action",scopedSlots:{customRender:"action"},fixed:"right"}],data:[],tableLoading:!1}},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Object.assign({status:[5]},e,this.pageParams,this.filters),this.tableLoading=!0,Object(o["getList"])(e).then((function(e){var a=e.data;t.data=a.list,t.tableLoading=!1,t.pagination.total=a.total})).catch((function(){t.tableLoading=!1}))}},mounted:function(){this.getList()}},u=c,f=a("2877"),m=Object(f["a"])(u,n,i,!1,null,null,null);e["default"]=m.exports},fc8c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-modal",{attrs:{title:t.title,width:"85%",cancelText:!1},on:{ok:t.handleOk},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{domProps:{innerHTML:t._s(t.content)}})])],1)},i=[],o={props:{content:{type:String,default:function(){return""}},visible:{type:Boolean,default:function(){return!1}},title:{type:String,default:function(){return""}}},data:function(){return{show:!1}},methods:{handleOk:function(){this.$emit("update:visible",!1)}},watch:{visible:function(t){this.show=t},show:function(t){this.$emit("update:visible",t)}}},s=o,r=a("2877"),l=Object(r["a"])(s,n,i,!1,null,null,null);e["default"]=l.exports}}]);